(self.webpackChunkmis_web=self.webpackChunkmis_web||[]).push([[682],{6682:function(e,t,n){"use strict";n.r(t),n.d(t,{LayoutModule:function(){return q}});var i=n(3464);const r=[{title:"\u9996\u9875",icon:"dashboard",path:"./layout/dashboard",open:!1,selected:!1,children:[{title:"\u9875\u97621",icon:"dashboard",path:"/layout/dashboard/page1",open:!1,selected:!1},{title:"\u9875\u97622",icon:"dashboard",path:"/layout/dashboard/page2",open:!1,selected:!1},{title:"\u9875\u97623",icon:"dashboard",path:"/layout/dashboard/page3",open:!1,selected:!1}]}];var o=n(3835),a=n(5416),s=n(6599),c=n(9996),l=n(3982),d=n(5959),h=n(5366),p=n(2716);let u=(()=>{class e{constructor(e,t){this.router=e,this.activatedRoute=t,this._tabArray=[],this._currSelectedIndexTab=0,this.fnFormatePath=function(e){const t=e.replace(/\/[0-9]+/g,""),n=t.substring(t.lastIndexOf("/")+1).indexOf("?");return n>-1?t.substring(t.lastIndexOf("/")+1).substring(0,n):t.substring(t.lastIndexOf("/")+1)}}get tabArray(){return this._tabArray}get currSelectedIndexTab(){return this._currSelectedIndexTab}addTab(e){this._tabArray.find(t=>t.path===e.path)||this._tabArray.push(e)}findIndex(e){const t=this._tabArray.findIndex(t=>e.includes(t.path));this._currSelectedIndexTab=t}delTab(e,t){const n=this.fnFormatePath(e.path);t===this._currSelectedIndexTab?(this.tabArray.splice(t,1),this._currSelectedIndexTab=t-1<0?0:t-1,this.router.navigateByUrl(this._tabArray[this._currSelectedIndexTab].path),p.E.waitDelete=n):t<this._currSelectedIndexTab?(this.tabArray.splice(t,1),this._currSelectedIndexTab=this._currSelectedIndexTab-1):t>this._currSelectedIndexTab&&this.tabArray.splice(t,1),p.E.deleteRouteSnapshot(n)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(i.F0),h.LFG(i.gz))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n(6594),f=n(3386),b=n(1116),x=n(4897),z=n(7787),T=n(7723);function m(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div"),h._uU(1),h.TgZ(2,"i",4),h.NdJ("click",function(t){h.CHM(e);const n=h.oxw(),i=n.$implicit,r=n.index;return h.oxw().closeTab(i,t,r)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw().$implicit;h.xp6(1),h.hij(" ",e.title," ")}}function y(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"nz-tab",2),h.NdJ("nzClick",function(){const t=h.CHM(e).$implicit;return h.oxw().goPage(t.path)}),h.YNc(1,m,3,1,"ng-template",null,3,h.W1O),h.qZA()}if(2&e){const e=h.MAs(2);h.Q6J("nzTitle",e)}}const C=function(){return{margin:"10px 0 0 0",height:"35px"}};let Z=(()=>{class e{constructor(e,t){this.tabService=e,this.router=t}get tabs(){return this.tabService.tabArray}get currSelectedIndexTab(){return this.tabService.currSelectedIndexTab}ngOnInit(){}goPage(e){this.router.navigateByUrl(e)}closeCurrentTab(e,t){1!==this.tabs.length&&this.tabService.delTab(e,t)}closeTab(e,t,n){this.closeCurrentTab(e,n)}clickCloseIcon(e){this.closeCurrentTab(this.tabs[e.index],e.index)}trackByTab(e,t){return t.title}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(u),h.Y36(i.F0))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-tab"]],decls:2,vars:7,consts:[[3,"nzSelectedIndex","nzTabBarStyle","nzTabPosition","nzType","nzClose"],["nzClosable","",3,"nzTitle","nzClick",4,"ngFor","ngForOf","ngForTrackBy"],["nzClosable","",3,"nzTitle","nzClick"],["titleTemplate",""],["nz-icon","","nzType","close","nzTheme","outline",2,"transform","scale(0.8)","margin-right","0",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-tabset",0),h.NdJ("nzClose",function(e){return t.clickCloseIcon(e)}),h.YNc(1,y,3,1,"nz-tab",1),h.qZA()),2&e&&(h.Q6J("nzSelectedIndex",t.currSelectedIndexTab)("nzTabBarStyle",h.DdM(6,C))("nzTabPosition","top")("nzType","card"),h.xp6(1),h.Q6J("ngForOf",t.tabs)("ngForTrackBy",t.trackByTab))},directives:[T.xH,b.sg,T.xw,z.Ls,x.w],styles:[""]}),e})();function O(e,t){1&e&&h.GkF(0)}const _=function(e){return[e]};function v(e,t){if(1&e&&(h.TgZ(0,"li",18),h.TgZ(1,"a",19),h._UZ(2,"i",15),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw().$implicit;h.Q6J("nzSelected",e.selected),h.xp6(1),h.Q6J("routerLink",h.VKq(4,_,e.path)),h.xp6(1),h.Q6J("nzType",e.icon),h.xp6(2),h.Oqu(e.title)}}function A(e,t){if(1&e&&(h.ynx(0),h.YNc(1,v,5,6,"li",17),h.BQk()),2&e){const e=t.$implicit;h.xp6(1),h.Q6J("ngIf",!e.children||0===e.children.length)}}function I(e,t){if(1&e){const e=h.EpF();h.ynx(0),h.TgZ(1,"li",13),h.NdJ("nzOpenChange",function(){h.CHM(e);const t=h.oxw().$implicit,n=h.oxw(2);return n.changeOpen(t,n.menus)})("nzOpenChange",function(t){return h.CHM(e),h.oxw().$implicit.open=t}),h.TgZ(2,"span",14),h._UZ(3,"i",15),h.TgZ(4,"span",16),h._uU(5),h.qZA(),h.qZA(),h.TgZ(6,"ul"),h.YNc(7,A,2,1,"ng-container",11),h.qZA(),h.qZA(),h.BQk()}if(2&e){const e=h.oxw().$implicit;h.xp6(1),h.Q6J("nzOpen",e.open),h.xp6(2),h.Q6J("nzType",e.icon),h.xp6(2),h.Oqu(e.title),h.xp6(2),h.Q6J("ngForOf",e.children)}}function k(e,t){if(1&e&&(h.ynx(0),h.YNc(1,I,8,4,"ng-container",12),h.BQk()),2&e){const e=t.$implicit;h.xp6(1),h.Q6J("ngIf",e.children&&e.children.length>0)}}function w(e,t){if(1&e&&h.YNc(0,k,2,1,"ng-container",11),2&e){const e=h.oxw();h.Q6J("ngForOf",e.menus)}}const M=[{path:"",component:(()=>{class e{constructor(e,t,n){this.tabService=e,this.router=t,this.activitedRoute=n,this.isCollapsed=!1,this.menus=r,this.routerPath="",this.destroy$=new d.xQ,this.router.events.pipe((0,o.h)(e=>e instanceof i.m2),(0,a.R)(this.destroy$),(0,s.b)(e=>{this.routerPath=e.urlAfterRedirects}),(0,c.U)(()=>n),(0,c.U)(e=>{for(;e.firstChild;)e=e.firstChild;return e}),(0,l.zg)(e=>e.data)).subscribe(e=>{this.tabService.addTab({title:e.title,path:this.routerPath}),this.tabService.findIndex(this.routerPath)})}ngOnInit(){this.clickMenuItem(this.menus)}changeOpen(e,t){t.forEach(e=>{e.open=!1}),e.open=!0}clickMenuItem(e){var t;if(!e)return;const n=-1===this.routerPath.indexOf("?")?this.routerPath.length:this.routerPath.indexOf("?"),i=this.routerPath.substring(0,n);for(const r of e)if(r.open=!1,r.selected=!1,r.children&&0!==r.children.length)for(const e of r.children)if(e.selected=!1,e.open=!1,e.children&&0!==(null===(t=e.children)||void 0===t?void 0:t.length))for(const t of e.children)i.includes(t.path)?(r.open=!0,r.selected=!0,e.selected=!0,e.open=!0,t.open=!0,t.selected=!0):(t.open=!1,t.selected=!1);else i.includes(e.path)&&(r.open=!0,r.selected=!0,e.selected=!0,e.open=!0);else i.includes(r.path)&&(r.selected=!0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(u),h.Y36(i.F0),h.Y36(i.gz))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-layout"]],decls:19,vars:6,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"sidebar-logo"],["src","../../assets/logo.svg","alt","logo"],["nz-menu","",3,"nzTheme","nzMode"],[4,"ngTemplateOutlet"],["menuTpl",""],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"inner-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nz-submenu","",3,"nzOpen","nzOpenChange"],["title",""],["nz-icon","",3,"nzType"],[1,"nav-text"],["nz-menu-item","",3,"nzSelected",4,"ngIf"],["nz-menu-item","",3,"nzSelected"],[3,"routerLink"]],template:function(e,t){if(1&e&&(h.TgZ(0,"nz-layout",0),h.TgZ(1,"nz-sider",1),h.NdJ("nzCollapsedChange",function(e){return t.isCollapsed=e}),h.TgZ(2,"div",2),h._UZ(3,"img",3),h.TgZ(4,"h1"),h._uU(5,"M I S"),h.qZA(),h.qZA(),h.TgZ(6,"ul",4),h.YNc(7,O,1,0,"ng-container",5),h.YNc(8,w,1,1,"ng-template",null,6,h.W1O),h.qZA(),h.qZA(),h.TgZ(10,"nz-layout"),h.TgZ(11,"nz-header"),h.TgZ(12,"div",7),h.TgZ(13,"span",8),h.NdJ("click",function(){return t.isCollapsed=!t.isCollapsed}),h._UZ(14,"i",9),h.qZA(),h.qZA(),h.qZA(),h.TgZ(15,"nz-content"),h._UZ(16,"app-tab"),h.TgZ(17,"div",10),h._UZ(18,"router-outlet"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.MAs(9);h.xp6(1),h.Q6J("nzCollapsed",t.isCollapsed)("nzTrigger",null),h.xp6(5),h.Q6J("nzTheme","dark")("nzMode","inline"),h.xp6(1),h.Q6J("ngTemplateOutlet",e),h.xp6(7),h.Q6J("nzType",t.isCollapsed?"menu-unfold":"menu-fold")}},directives:[g.hw,g.t7,f.wO,b.tP,g.E8,x.w,z.Ls,g.OK,Z,i.lC,b.sg,b.O5,f.rY,f.r9,i.yS],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px rgba(0,21,41,.35)}.header-trigger[_ngcontent-%COMP%]{height:64px;padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 0 20px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px rgba(0,21,41,.08)}nz-content[_ngcontent-%COMP%]{margin:24px}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}"]}),e})(),data:{shouldDetach:"no"},children:[{path:"dashboard",loadChildren:()=>n.e(973).then(n.bind(n,9973)).then(e=>e.DashboardModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[i.Bz.forChild(M)],i.Bz]}),e})();var S=n(5037);let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[S.m,P]]}),e})()}}]);